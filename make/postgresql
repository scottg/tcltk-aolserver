#!/bin/bash

# XXX the next two lines should really be in an autogenerated file that we can
# source from here. When Tcl is built, that file should be appended to (or have
# a separate script that sets up paths).

#export TCLSH_CMD=$SITEROOT/bin/tclsh
#export TCLLIBPATH="$SITEROOT/lib/tcl8.5 $SITEROOT/lib"

#cd postgresql

./configure \
	--enable-thread-safety \
    --prefix=$SITEROOT/exe/postgresql \
	--datadir=$SITEROOT/exe/postgresql/share \
	--sysconfdir=$SITEROOT/exe/postgresql/etc \
	--libdir=$SITEROOT/exe/postgresql/lib \
	--includedir=$SITEROOT/exe/postgresql/include \
	--mandir=$SITEROOT/exe/postgresql/man \
	--with-docdir=$SITEROOT/exe/postgresql/doc \
    --with-includes=$SITEROOT/exe/postgresql/include \
    --with-libraries=$SITEROOT/exe/postgresql/lib \
    --with-tcl \
    --with-tclconfig=$SITEROOT/exe/tcl/lib \
    --without-odbc \
    --without-tk \
    --without-openssl

# To compile with openssl (need to find a way to point to the /local/lib
# version; I think this will attempt to use the system's version).

#    --with-openssl

make install
